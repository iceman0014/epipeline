import{d as I,a4 as C,k as r,o as M,P as f,Q as v,F as V,_ as E,u as n,R as e,aa as L,t as h,ab as b,H as _,ac as R,$ as k,a3 as B,f as D,Y as N,ad as U,G as g,a0 as K,a1 as P}from"./vue-af24607c.js";import{ak as q}from"./antd-d624a2b9.js";import{_ as F}from"./icons-07e9d9f4.js";const T="/micro/epipeline-customer-manage-system/assets/02-26c31f05.png",u=d=>(K("data-v-019ff2d6"),d=d(),P(),d),$={class:"login-container"},z=u(()=>e("img",{src:T,style:{width:"100%",height:"100%"}},null,-1)),G=[z],H={class:"login-box"},Q=u(()=>e("div",{class:"login-header"},[e("i",{class:"fas fa-hospital-alt"}),e("div",{class:"flex-center font-30"},[g(" e "),e("div",{class:"theme"},"P"),g(" IpelIne客户管理系统 ")])],-1)),Y={class:"input-group"},j=u(()=>e("i",{class:"fas fa-user"},null,-1)),A={class:"input-group"},J=u(()=>e("i",{class:"fas fa-lock"},null,-1)),O={class:"remember-me"},W=u(()=>e("span",null,"记住密码",-1)),X={key:0,class:"error"},Z=I({__name:"Login",setup(d){const w=C(),a=r(""),s=r(""),i=r(!1),l=r(""),x=r(null);M(()=>{const c=localStorage.getItem("icu-username"),o=localStorage.getItem("icu-password");localStorage.getItem("icu-remember-me")==="true"&&(a.value=c||"",s.value=o||"",i.value=!0);const t=p=>{p.key==="Enter"&&m(p)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}});const m=c=>{if(c.preventDefault(),!!x.value){if(!a.value&&!s.value){l.value="请输入用户名和密码";return}else if(a.value)if(s.value){if(s.value.length<6){l.value="密码长度至少为6位";return}}else{l.value="请输入密码";return}else{l.value="请输入用户名";return}i.value?(localStorage.setItem("icu-username",a.value),localStorage.setItem("icu-password",s.value),localStorage.setItem("icu-remember-me","true")):(localStorage.removeItem("icu-username"),localStorage.removeItem("icu-password"),localStorage.removeItem("icu-remember-me")),w?w.replace({name:"home"}):console.error("Router is undefined")}},S=r([{top:"-30px",left:"100px",width:"340px",height:"340px",rotate:"rotate(180deg)",time:"0",show:!1},{top:"65px",left:"400px",width:"900px",height:"900px",rotate:"rotate(0)",time:"500",show:!1},{top:"calc(100vh - 100px)",left:"calc(100vw - 400px)",width:"200px",height:"200px",rotate:"rotate(60deg)",time:"700",show:!1},{top:"-30px",left:"calc(100vw - 200px)",width:"240px",height:"240px",rotate:"rotate(90deg)",time:"0",show:!1}]);return(c,o)=>{const y=q;return f(),v("div",$,[(f(!0),v(V,null,E(n(S),(t,p)=>(f(),v("div",{class:"backgroundCircle",style:U({left:t.left,top:t.top,width:t.width,height:t.height,transform:t.rotate}),key:p},G,4))),128)),e("div",H,[Q,e("form",{ref_key:"form",ref:x,class:"login-form",onSubmit:m,onKeydown:L(m,["enter"]),novalidate:""},[e("div",Y,[j,h(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>_(a)?a.value=t:null),placeholder:"请输入用户名",autocomplete:"username",required:"",name:"username"},null,512),[[b,n(a)]])]),e("div",A,[J,h(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=t=>_(s)?s.value=t:null),placeholder:"请输入密码",autocomplete:"off",required:"",name:"password",minlength:"6"},null,512),[[b,n(s)]])]),e("div",O,[e("label",null,[h(e("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=t=>_(i)?i.value=t:null)},null,512),[[R,n(i)]]),W])]),n(l)?(f(),v("div",X,k(n(l)),1)):B("",!0),D(y,{type:"primary",onClick:m},{default:N(()=>[g(k(c.$t("login")),1)]),_:1})],544)])])}}});const se=F(Z,[["__scopeId","data-v-019ff2d6"]]);export{se as default};
